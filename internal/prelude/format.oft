(module std/internal/prelude/format
  show)

(import std/internal/prelude/constants
  t)
(import std/internal/prelude/objects
  object-call-func)
(import std/internal/primitives
  object?
  object-has-func?
  panic
  show-primitive
  string?)

(defn show (val)
  (if (object? val)
    (if (object-has-func? val 'to-string)
      (object-call-func val 'to-string)
      "#<object>")
    (if (string? val)
      val
      (show-primitive val))))
