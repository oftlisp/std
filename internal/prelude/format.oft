(module std/internal/prelude/format
  show)

(import std/internal/prelude/objects
  object-call-func)
(import std/internal/primitives
  object?
  object-has-func?
  panic
  show-primitive
  string?)

(defn show (value)
  (if (object? value)
    (if (object-has-func? value 'to-string)
      (object-call-func value 'to-string)
      "#<object>")
    (if (string? value)
      value
      (show-primitive value))))
