(module std/internal/prelude/format
  show)

(import std/internal/prelude/constants
  t)
(import std/internal/primitives
  object?
  object-get-property
  object-has-property?
  panic
  show-primitive
  string?)

(defn show (val)
  (if (object? val)
    (if (object-has-property? val 'to-string)
	  ((object-get-property val 'to-string) val)
	  "#<object>")
	(if (string? val)
	  val
	  (show-primitive val))))
